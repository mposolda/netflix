    <f:view xmlns="http://www.w3.org/1999/xhtml"
            xmlns:h="http://java.sun.com/jsf/html"
            xmlns:f="http://java.sun.com/jsf/core"
            xmlns:ui="http://java.sun.com/jsf/facelets"
            xmlns:rich="http://richfaces.org/rich"
            xmlns:a4j="http://richfaces.org/a4j"
            xmlns:c="http://java.sun.com/jsp/jstl/core">

        <h:head>
            <!-- Mimic Internet Explorer 8 -->
            <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE8"  />
        </h:head>

        <h:body>
            <h:outputStylesheet library="css" name="application.css" target="head" />
            <div style="padding-left: 10px; padding-right: 10px; margin-bottom: 10px; margin-top: 10px;">

                <!--<h:form id="baseForm">-->
                    <rich:tabPanel id="netflixTabPanel" activeItem="#{netflix.selectedTab}" switchType="client">
                        <rich:tab header="#{netflix.moviesTabText}">

                            <h:form id="movieTabForm">
                            <rich:panel header="Search for movies, TV shows" headerClass="netflixHeader">
                                <img src="#{facesContext.externalContext.requestContextPath}/images/system-search.png" alt="search icon" class="icon"/>
                                <h:outputText value="Movie / TV show name: " />
                                <h:inputText size="50" value="#{netflix.currentMovieName}"/>
                                <a4j:commandButton id="mvoie_detail_submit"
                                                   action="#{netflix.searchForMovie}" value="Search"
                                                   render="movieSearchResults"
                                                   status="movieSearchButtonStatus" />
                            </rich:panel>
                            <div style="background-color: red;" ><h:messages /></div>
                            </h:form>

                            <a4j:status id="movieSearchButtonStatus">
                                <f:facet name="start">
                                    <a4j:outputPanel layout="block" style="text-align: center;">
                                        <h:graphicImage  value="/images/loading2.gif" style="width: 80px;" />
                                    </a4j:outputPanel>
                                </f:facet>
                            </a4j:status>

                            <rich:panel id="movieSearchResults">

                                <!-- Table with searched movies -->
                                <ui:include src="/pages/includes/movieSearch.xhtml" />

                                <!-- Detail of the movie -->
                                <ui:include src="/pages/includes/movieDetail.xhtml" />
                            </rich:panel>

                        </rich:tab>

                        <rich:tab header="#{netflix.peopleTabText}">

                            <h:form id="peopleTabForm">
                            <rich:panel header="Search for actors, directors"  headerClass="netflixHeader" >
                                <img src="#{facesContext.externalContext.requestContextPath}/images/system-search.png" alt="search icon" class="icon"/>
                                <h:outputText value="Actor / director name: " />
                                <h:inputText size="50" value="#{netflix.currentStarName}"/>
                                <a4j:commandButton id="peopleSearchSubmit"
                                                   action="#{netflix.searchForStar}" value="Search"
                                                   execute="peopleTabForm"
                                                   render="peopleSearchResults"
                                                   status="peopleSearchButtonStatus" />
                            </rich:panel>
                            <div style="background-color: red;" ><h:messages /></div>
                            </h:form>

                            <a4j:status name="peopleSearchButtonStatus">
                                <f:facet name="start">
                                    <a4j:outputPanel layout="block" style="text-align: center;">
                                        <h:graphicImage  value="/images/loading2.gif" style="width: 80px;" />
                                    </a4j:outputPanel>
                                </f:facet>
                            </a4j:status>

                            <a4j:outputPanel id="peopleSearchResults">
                                        <!-- Table with searched people -->
                                        <!--<ui:include src="/pages/includes/personSearch.xhtml" />-->
                                        <rich:panel styleClass="movieSearch">
                                            <h:form id="personSearchForm">
                                                <rich:dataTable value="#{netflix.searchedStars}" var="star" id="netflixStarTable" rows="10">
                                                    <rich:column label="Index" sortBy="#{star.searchIndex}" width="15%">
                                                        <f:facet name="header">
                                                            <h:outputText value="Index" />
                                                        </f:facet>
                                                        <h:outputText value="#{star.searchIndex}" />
                                                    </rich:column>
                                                    <rich:column label="Name" sortBy="#{star.name}">
                                                        <f:facet name="header">
                                                            <h:outputText value="Name" />
                                                        </f:facet>
                                                        <a4j:commandLink action="#{netflix.showStarDetail}" value="#{star.name}" render="peopleSearchResults">
                                                            <!--<f:setPropertyActionListener target="#{netflix.idOfStarForDetail}"	value="#{star.id}" />-->
                                                        </a4j:commandLink>
                                                    </rich:column>
                                                </rich:dataTable>
                                                <!--<rich:spacer height="20" />-->
                                                <rich:dataScroller id="starsScroller" for="netflixStarTable" />
                                                <a4j:commandButton action="#{netflix.showStarDetail}" value="Bradd Pittt" render="peopleSearchResults" />
                                            </h:form>
                                        </rich:panel>

                                        <!-- Detail of person (actor, director) -->
                                        <ui:include src="/pages/includes/personDetail.xhtml" />

                            </a4j:outputPanel>
                        </rich:tab>

                    </rich:tabPanel>
                <!--</h:form>-->
            </div>
        </h:body>
    </f:view>

